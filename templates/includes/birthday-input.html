<span class="birthday-input">
  <select name="birthday_y" id="birthday_y">
    {% for y in range(1928, g.today.year + 1) %}
    <option value="{{y}}"{% if y == 2000 %} selected{% endif %}>{{y}}</option>
    {% endfor %}
  </select>
  <select name="birthday_m" id="birthday_m">
    <option value="1">January</option>
    <option value="2">February</option>
    <option value="3">March</option>
    <option value="4">April</option>
    <option value="5">May</option>
    <option value="6">June</option>
    <option value="7">July</option>
    <option value="8">August</option>
    <option value="9">September</option>
    <option value="10">October</option>
    <option value="11">November</option>
    <option value="12">December</option>
  </select>
  <select name="birthday_d" id="birthday_d">
    {% for d in range(1, 32) %}
    <option value="{{d}}">{{d}}</option>
    {% endfor %}
  </select>
  <script>
  birthday_y.onchange = birthday_m.onchange = function(){
    var y=birthday_y.value, m=birthday_m.value, max_days;
    birthday_d.innerHTML = '';
    if (m == 2){
      if (!(y % 4) && (y % 100) || !(y % 400)){
        max_days = 29;
      } else {
        max_days = 28;
      }
    } else if (m == 4 || m == 6 || m == 9 || m == 11){
      max_days = 30;
    } else {
      max_days = 31;
    }
    for(var i = 1; i <= max_days; i++){
      var day_option = document.createElement('option');
      day_option.value = i;
      day_option.innerHTML = i;
      birthday_d.appendChild(day_option);
    }
  }
  </script>
</span>